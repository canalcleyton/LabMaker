<html>
    <html lang="pt-BR">
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:DengXian;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"DengXian Light";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:Aptos;}
@font-face
	{font-family:"Segoe UI Emoji";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"\@DengXian";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"\@DengXian Light";}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin:0cm;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	text-transform:uppercase;
	font-weight:bold;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin:0cm;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;}
a:link, span.MsoHyperlink
	{color:#467886;
	text-decoration:underline;}
p.Ttulo1ABNT, li.Ttulo1ABNT, div.Ttulo1ABNT
	{mso-style-name:"T�tulo 1 ABNT";
	margin:0cm;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
p.Ttulo2ABNT, li.Ttulo2ABNT, div.Ttulo2ABNT
	{mso-style-name:"T�tulo 2 ABNT";
	margin:0cm;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
p.TextoWeb, li.TextoWeb, div.TextoWeb
	{mso-style-name:"Texto Web";
	mso-style-link:"Texto Web Char";
	margin:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;}
span.TextoWebChar
	{mso-style-name:"Texto Web Char";
	mso-style-link:"Texto Web";}
.MsoChpDefault
	{font-size:12.0pt;
	font-family:"Aptos",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:115%;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:63.8pt 42.45pt 42.55pt 2.0cm;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=PT-BR link="#467886" vlink="#96607D" style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal align=center style='text-align:center;line-height:115%'><b>Integra��o
de Sensor com MQTT para Monitoramento por IoT</b></p>

<p class=MsoNormal style='line-height:115%'><b>&nbsp;</b></p>

<p class=MsoNormal style='line-height:115%'><b>SUM�RIO</b></p>

<p class=MsoNormal style='line-height:115%'><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></p>

<p class=MsoToc1><a
href="#_Toc193146469"><span style='font-size:10.0pt'>1 Vis�o Geral da Solu��o</span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>.. </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc193146470"><span style='font-size:10.0pt'>2
Planejamento e Levantamento de Requisitos (Sistema Real)</span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'> </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc193146471"><span style='font-size:10.0pt'>3
Instala��o e Configura��o do Ambiente</span><span style='font-size:10.0pt;
color:windowtext;display:none;text-decoration:none'>. </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>2</span></a></p>

<p class=MsoToc1><a href="#_Toc193146472"><span style='font-size:10.0pt'>4
Arquitetura da Solu��o</span><span style='font-size:10.0pt;color:windowtext;
display:none;text-decoration:none'>.. </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>3</span></a></p>

<p class=MsoToc1><a href="#_Toc193146473"><span style='font-size:10.0pt'>5
Detalhamento T�cnico</span><span style='font-size:10.0pt;color:windowtext;
display:none;text-decoration:none'>.. </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>3</span></a></p>

<p class=MsoToc1><a href="#_Toc193146474"><span style='font-size:10.0pt'>6
SimulIDE e Arduino: Montando o Laborat�rio Virtual (Sistema Virtual)</span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'> </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>4</span></a></p>

<p class=MsoToc2><a href="#_Toc193146475"><span style='font-size:10.0pt'>6.1
Interface Serial Externa: Criando a Ponte para o Mundo Exterior</span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'> </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>4</span></a></p>

<p class=MsoToc1><a href="#_Toc193146476"><span style='font-size:10.0pt'>7.
Requisitos</span><span style='font-size:10.0pt;color:windowtext;display:none;
text-decoration:none'>. </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>5</span></a></p>

<p class=MsoToc1><a href="#_Toc193146477"><span style='font-size:10.0pt'>8.
Configura��o do SimulIDE e Arduino Simulado</span><span style='font-size:10.0pt;
color:windowtext;display:none;text-decoration:none'>.. </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>8</span></a></p>

<p class=MsoToc2><a href="#_Toc193146478"><span style='font-size:10.0pt'>8.1
Adicionando o Arduino ao SimulIDE</span><span style='font-size:10.0pt;
color:windowtext;display:none;text-decoration:none'>. </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>8</span></a></p>

<p class=MsoToc2><a href="#_Toc193146479"><span style='font-size:10.0pt'>8.2
Configurando o M�dulo DHT22 no SimulIDE</span><span style='font-size:10.0pt;
color:windowtext;display:none;text-decoration:none'>. </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>8</span></a></p>

<p class=MsoToc2><a href="#_Toc193146480"><span style='font-size:10.0pt'>8.3
Criando um C�digo para o DHT22 no Arduino IDE</span><span style='font-size:
10.0pt;color:windowtext;display:none;text-decoration:none'>. </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>8</span></a></p>

<p class=MsoToc2><a href="#_Toc193146481"><span style='font-size:10.0pt'>8.4
Configurando a Porta Serial Virtual</span><span style='font-size:10.0pt;
color:windowtext;display:none;text-decoration:none'> </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>10</span></a></p>

<p class=MsoToc1><a href="#_Toc193146482"><span style='font-size:10.0pt'>9
Configura��o da Conex�o com o Script Python</span><span style='font-size:10.0pt;
color:windowtext;display:none;text-decoration:none'>. </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>10</span></a></p>

<p class=MsoToc1><a href="#_Toc193146483"><span style='font-size:10.0pt'>10
Instalando e Configurando o Proxmox no VirtualBox</span><span style='font-size:
10.0pt;color:windowtext;display:none;text-decoration:none'>. </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>11</span></a></p>

<p class=MsoToc2><a href="#_Toc193146484"><span style='font-size:10.0pt'>10.1
Criando a M�quina Virtual no VirtualBox</span><span style='font-size:10.0pt;
color:windowtext;display:none;text-decoration:none'>. </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>11</span></a></p>

<p class=MsoToc2><a href="#_Toc193146485"><span style='font-size:10.0pt'>10.2
Instalando o Mosquitto MQTT Broker</span><span style='font-size:10.0pt;
color:windowtext;display:none;text-decoration:none'> </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>11</span></a></p>

<p class=MsoToc1><a href="#_Toc193146486"><span style='font-size:10.0pt'>11.
Testando a Comunica��o</span><span style='font-size:10.0pt;color:windowtext;
display:none;text-decoration:none'>.. </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>11</span></a></p>

<p class=MsoToc1><a href="#_Toc193146487"><span style='font-size:10.0pt'>12
Conclus�o</span><span style='font-size:10.0pt;color:windowtext;display:none;
text-decoration:none'>.. </span><span
style='font-size:10.0pt;color:windowtext;display:none;text-decoration:none'>11</span></a></p>

<p class=MsoNormal style='line-height:115%'><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></p>

<p class=Ttulo1ABNT>&nbsp;</p>

<p class=Ttulo1ABNT><a name="_Toc193146469">1 Vis�o Geral da Solu��o</a></p>

<p class=MsoNormal style='line-height:115%'><b>&nbsp;</b></p>

<p class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
line-height:115%'>A solu��o proposta consiste em implementar um sistema de
monitoramento por meio do uso de um sensor <b>DHT22</b> para coletar dados de
temperatura e umidade, que s�o enviados via <b>Arduino</b> para um servidor
utilizando <b>comunica��o serial</b>. Os dados na sequ�ncia s�o ent�o
processados e publicados em um <b>broker MQTT</b>, permitindo que outros
dispositivos ou sistemas acessem as informa��es em tempo real.</p>

<p class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
line-height:115%'><span style='font-size:10.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
line-height:115%'>Imagine que voc� quer construir um circuito eletr�nico
virtual, usando um programa de computador. O SimulIDE � como um laborat�rio
virtual onde voc� pode fazer isso. Um dos componentes mais populares que voc�
pode usar � o Arduino, um pequeno computador program�vel que � �timo para
controlar luzes, motores, sensores e muito mais.</p>

<p class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
line-height:115%'><span style='font-size:10.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
line-height:115%'>Agora, imagine que voc� quer que seu Arduino virtual
&quot;converse&quot; com outros programas no seu computador (como o Windows) ou
at� mesmo com outros computadores em uma rede. </p>

<p class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
line-height:115%'><span style='font-size:10.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
line-height:115%'>A &quot;comunica��o serial&quot; � uma maneira de fazer isso,
como se fosse um cabo telef�nico virtual conectando seu Arduino a outros
dispositivos.</p>

<p class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
line-height:115%'><span style='font-size:10.0pt;line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
line-height:115%'>Este guia explica como configurar essa comunica��o serial no
SimulIDE para que seu Arduino virtual possa enviar e receber dados de outros
programas e at� mesmo da internet!</p>

<p class=MsoNormal style='line-height:115%'><b><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></b></p>

<p class=Ttulo1ABNT><a name="_Toc193146470">2 Planejamento e Levantamento de
Requisitos (Sistema Real)</a></p>

<p class=MsoNormal style='line-height:115%'><b><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></b></p>

<p class=MsoNormal style='line-height:115%'><b>1. Requisitos de Hardware</b></p>

<ul style='margin-top:0cm' type=disc>
 <li class=MsoNormal style='line-height:115%'><b>Sensor DHT22</b> para medir
     temperatura e umidade.</li>
 <li class=MsoNormal style='line-height:115%'><b>Arduino</b> (ou outro
     microcontrolador compat�vel) para processamento e envio dos dados.</li>
 <li class=MsoNormal style='line-height:115%'><b>M�dulo ESP-01 (opcional)</b>
     para conectividade Wi-Fi caso a comunica��o MQTT seja feita diretamente
     pelo microcontrolador.</li>
 <li class=MsoNormal style='line-height:115%'><b>Cabo USB</b> para comunica��o
     e alimenta��o do Arduino.</li>
 <li class=MsoNormal style='line-height:115%'><b>Computador ou servidor</b>
     para processar os dados e encaminh�-los ao broker MQTT.</li>
</ul>

<p class=MsoNormal style='line-height:115%'><b>&nbsp;</b></p>

<p class=MsoNormal style='line-height:115%'><b>2. Requisitos de Software</b></p>

<ul style='margin-top:0cm' type=disc>
 <li class=MsoNormal style='line-height:115%'><b>Firmware do Arduino</b>: </li>
 <ul style='margin-top:0cm' type=circle>
  <li class=MsoNormal style='line-height:115%'>Biblioteca <b>DHT.h</b> para
      leitura do sensor.</li>
  <li class=MsoNormal style='line-height:115%'>Biblioteca <b>SoftwareSerial.h</b>
      para comunica��o serial adicional.</li>
  <li class=MsoNormal style='line-height:115%'>Biblioteca <b>ArduinoJson.h</b>
      para formata��o dos dados em JSON.</li>
 </ul>
 <li class=MsoNormal style='line-height:115%'><b>Script Python</b>: </li>
 <ul style='margin-top:0cm' type=circle>
  <li class=MsoNormal style='line-height:115%'>Biblioteca <b>pyserial</b> para
      leitura dos dados da porta serial.</li>
  <li class=MsoNormal style='line-height:115%'>Biblioteca <b>paho-mqtt</b> para
      publica��o dos dados no broker MQTT.</li>
  <li class=MsoNormal style='line-height:115%'>Biblioteca <b>json</b> para
      manipula��o dos dados.</li>
 </ul>
 <li class=MsoNormal style='line-height:115%'><b>Broker MQTT</b>: </li>
 <ul style='margin-top:0cm' type=circle>
  <li class=MsoNormal style='line-height:115%'>Pode ser hospedado localmente ou
      em um servidor na nuvem.</li>
  <li class=MsoNormal style='line-height:115%'>Configurado para escutar e
      distribuir as mensagens publicadas.</li>
 </ul>
</ul>

<p class=MsoNormal style='line-height:115%'><b><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></b></p>

<p class=MsoNormal style='line-height:115%'><b>Planejamento da Implementa��o</b></p>

<p class=MsoNormal style='line-height:115%'><b><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></b></p>

<ol style='margin-top:0cm' start=1 type=1>
 <li class=MsoNormal style='line-height:115%'><b>Defini��o dos Objetivos</b>:</li>
 <ul style='margin-top:0cm' type=circle>
  <li class=MsoNormal style='line-height:115%'>Capturar e transmitir dados de
      temperatura e umidade.</li>
  <li class=MsoNormal style='line-height:115%'>Garantir que os dados sejam
      processados e armazenados corretamente.</li>
  <li class=MsoNormal style='line-height:115%'>Disponibilizar os dados via MQTT
      para integra��o com outros sistemas.</li>
 </ul>
 <li class=MsoNormal style='line-height:115%'><b>Aquisi��o e Configura��o do
     Hardware</b>:</li>
 <ul style='margin-top:0cm' type=circle>
  <li class=MsoNormal style='line-height:115%'>Obter os componentes
      necess�rios.</li>
  <li class=MsoNormal style='line-height:115%'>Montar o circuito com o Arduino
      e o sensor DHT22.</li>
 </ul>
 <li class=MsoNormal style='line-height:115%'><b>Desenvolvimento do C�digo</b>:</li>
 <ul style='margin-top:0cm' type=circle>
  <li class=MsoNormal style='line-height:115%'>Programar o Arduino para
      capturar dados e envi�-los via SoftwareSerial.</li>
  <li class=MsoNormal style='line-height:115%'>Criar o script Python para
      interpretar os dados e public�-los no broker MQTT.</li>
 </ul>
 <li class=MsoNormal style='line-height:115%'><b>Configura��o do Ambiente</b>:</li>
 <ul style='margin-top:0cm' type=circle>
  <li class=MsoNormal style='line-height:115%'>Instalar as bibliotecas
      necess�rias no Arduino e no ambiente Python.</li>
  <li class=MsoNormal style='line-height:115%'>Configurar o broker MQTT.</li>
 </ul>
 <li class=MsoNormal style='line-height:115%'><b>Testes e Valida��o</b>:</li>
 <ul style='margin-top:0cm' type=circle>
  <li class=MsoNormal style='line-height:115%'>Verificar a comunica��o serial.</li>
  <li class=MsoNormal style='line-height:115%'>Checar a formata��o correta dos
      dados JSON.</li>
  <li class=MsoNormal style='line-height:115%'>Garantir que os dados s�o
      publicados corretamente no MQTT e recebidos pelos clientes.</li>
 </ul>
</ol>

<p class=MsoNormal style='line-height:115%'><b><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></b></p>

<p class=Ttulo1ABNT><a name="_Toc193146471">3 Instala��o e Configura��o do
Ambiente</a></p>

<p class=MsoNormal style='line-height:115%'><b><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></b></p>

<p class=MsoNormal style='line-height:115%'><b>1. Montagem do Circuito</b></p>

<ul style='margin-top:0cm' type=disc>
 <li class=MsoNormal style='line-height:115%'>Conectar o sensor DHT22 ao
     Arduino seguindo o esquema: </li>
 <ul style='margin-top:0cm' type=circle>
  <li class=MsoNormal style='line-height:115%'><b>VCC</b> &#8594; 5V</li>
  <li class=MsoNormal style='line-height:115%'><b>GND</b> &#8594; GND</li>
  <li class=MsoNormal style='line-height:115%'><b>DATA</b> &#8594; Pino digital
      6</li>
 </ul>
 <li class=MsoNormal style='line-height:115%'>Conectar a comunica��o serial via
     <b>SoftwareSerial</b>: </li>
 <ul style='margin-top:0cm' type=circle>
  <li class=MsoNormal style='line-height:115%'><b>RX</b> do m�dulo ESP-01 ou
      outro dispositivo &#8594; Pino 4 do Arduino</li>
  <li class=MsoNormal style='line-height:115%'><b>TX</b> do m�dulo ESP-01 ou
      outro dispositivo &#8594; Pino 5 do Arduino</li>
 </ul>
</ul>

<p class=MsoNormal style='line-height:115%'><b><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></b></p>

<p class=MsoNormal style='line-height:115%'><b>2. Configura��o do Arduino</b></p>

<ul style='margin-top:0cm' type=disc>
 <li class=MsoNormal style='line-height:115%'>Instalar a IDE do Arduino e
     adicionar as bibliotecas <b>DHT.h</b>, <b>SoftwareSerial.h</b> e <b>ArduinoJson.h</b>.</li>
 <li class=MsoNormal style='line-height:115%'>Carregar o c�digo para leitura do
     sensor e envio dos dados pela serial.</li>
 <li class=MsoNormal style='line-height:115%'>Testar a comunica��o utilizando o
     monitor serial da IDE.</li>
</ul>

<p class=MsoNormal style='line-height:115%'><b><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></b></p>

<p class=MsoNormal style='line-height:115%'><b>3. Configura��o do
Computador/Servidor</b></p>

<ul style='margin-top:0cm' type=disc>
 <li class=MsoNormal style='line-height:115%'>Instalar Python e as bibliotecas
     necess�rias: </li>
 <li class=MsoNormal style='line-height:115%'><span lang=EN-US>pip install
     pyserial paho-mqtt json</span></li>
 <li class=MsoNormal style='line-height:115%'>Configurar o broker MQTT: </li>
 <ul style='margin-top:0cm' type=circle>
  <li class=MsoNormal style='line-height:115%'>Instalar o Mosquitto (broker
      MQTT) no servidor ou usar um servi�o na nuvem.</li>
  <li class=MsoNormal style='line-height:115%'>Definir o t�pico MQTT para
      publica��o dos dados.</li>
 </ul>
 <li class=MsoNormal style='line-height:115%'>Criar e executar o script Python
     para receber os dados da porta serial e public�-los no MQTT.</li>
</ul>

<p class=MsoNormal style='line-height:115%'><b><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></b></p>

<p class=MsoNormal style='line-height:115%'><b>4. Testes e Valida��o</b></p>

<ul style='margin-top:0cm' type=disc>
 <li class=MsoNormal style='line-height:115%'>Testar a comunica��o serial para
     garantir que o Arduino envia os dados corretamente.</li>
 <li class=MsoNormal style='line-height:115%'>Checar a convers�o dos dados para
     JSON.</li>
 <li class=MsoNormal style='line-height:115%'>Monitorar o tr�fego no broker
     MQTT para confirmar a publica��o e assinatura dos t�picos.</li>
</ul>

<p class=MsoNormal style='line-height:115%'><b><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></b></p>

<p class=Ttulo1ABNT><a name="_Toc193146472">4 Arquitetura da Solu��o</a></p>

<p class=MsoNormal style='line-height:115%'><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal style='line-height:115%'>A comunica��o entre os componentes
segue o seguinte fluxo:</p>

<ol style='margin-top:0cm' start=1 type=1>
 <li class=MsoNormal style='line-height:115%'><b>Coleta de Dados:</b> O sensor <b>DHT22</b>,
     conectado ao <b>Arduino</b>, realiza leituras peri�dicas de temperatura e
     umidade.</li>
 <li class=MsoNormal style='line-height:115%'><b>Transmiss�o via
     SoftwareSerial:</b> Os dados s�o formatados em <b>JSON</b> e enviados para
     a porta serial utilizando a biblioteca <b>SoftwareSerial</b>.</li>
 <li class=MsoNormal style='line-height:115%'><b>Recep��o dos Dados no
     Computador:</b> Um script <b>Python</b> l� os dados da porta serial e os
     interpreta como objetos JSON.</li>
 <li class=MsoNormal style='line-height:115%'><b>Publica��o no Broker MQTT:</b>
     O script <b>Python</b> publica as leituras recebidas no t�pico MQTT <b>sensor/dht22</b>.</li>
 <li class=MsoNormal style='line-height:115%'><b>Disponibiliza��o dos Dados:</b>
     Qualquer cliente MQTT pode assinar o t�pico e receber as informa��es em
     tempo real.</li>
</ol>

<p class=MsoNormal style='line-height:115%'><b><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></b></p>

<p class=Ttulo1ABNT><a name="_Toc193146473">5 Detalhamento T�cnico</a></p>

<p class=MsoNormal style='line-height:115%'><b><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></b></p>

<p class=MsoNormal style='line-height:115%'><b>1. C�digo no Arduino</b></p>

<p class=MsoNormal style='line-height:115%'>O microcontrolador � respons�vel
por:</p>

<ul style='margin-top:0cm' type=disc>
 <li class=MsoNormal style='line-height:115%'>Inicializar a comunica��o serial.</li>
 <li class=MsoNormal style='line-height:115%'>Realizar leituras do sensor DHT22
     a cada 5 segundos.</li>
 <li class=MsoNormal style='line-height:115%'>Formatar os dados em JSON.</li>
 <li class=MsoNormal style='line-height:115%'>Enviar as leituras pela <b>porta
     COM3</b> (via SoftwareSerial).</li>
</ul>

<p class=MsoNormal style='line-height:115%'><b><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></b></p>

<p class=MsoNormal style='line-height:115%'><b>2. C�digo em Python</b></p>

<p class=MsoNormal style='line-height:115%'>O script executado no computador:</p>

<ul style='margin-top:0cm' type=disc>
 <li class=MsoNormal style='line-height:115%'>Estabelece comunica��o com a <b>porta
     COM4</b> (onde o Arduino envia os dados).</li>
 <li class=MsoNormal style='line-height:115%'>L� os dados da serial e converte
     para JSON.</li>
 <li class=MsoNormal style='line-height:115%'>Publica os valores de temperatura
     e umidade no <b>broker MQTT</b>.</li>
 <li class=MsoNormal style='line-height:115%'>Garante que os dados possam ser
     acessados por outros dispositivos conectados � rede.</li>
</ul>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='line-height:115%'><b>Benef�cios da Abordagem</b></p>

<ul style='margin-top:0cm' type=disc>
 <li class=MsoNormal style='line-height:115%'><b>Modularidade</b>: O uso de
     MQTT permite que diferentes aplica��es acessem os dados sem necessidade de
     modifica��es no c�digo-fonte do sensor.</li>
 <li class=MsoNormal style='line-height:115%'><b>Escalabilidade</b>: A
     arquitetura permite adicionar novos sensores sem impactar a estrutura
     existente.</li>
</ul>

<p class=MsoNormal style='margin-left:35.7pt;text-indent:-17.85pt;line-height:
115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Baixa lat�ncia</b>: A comunica��o via MQTT garante a entrega
r�pida dos dados para os clientes assinantes.</p>

<p class=MsoNormal style='margin-left:35.7pt;text-indent:-17.85pt;line-height:
115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Facilidade de integra��o</b>: Qualquer sistema compat�vel com
MQTT pode consumir os dados (ex.: servidores no <b>Proxmox</b> ou dashboards de
monitoramento).</p>

<p class=MsoNormal style='line-height:115%'><b><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></b></p>

<p class=MsoNormal style='line-height:115%'><b>Aplica��es Pr�ticas</b></p>

<ul style='margin-top:0cm' type=disc>
 <li class=MsoNormal style='line-height:115%'>Monitoramento ambiental para <b>automa��o
     residencial</b>.</li>
 <li class=MsoNormal style='line-height:115%'>Controle de <b>ambientes
     industriais</b>.</li>
 <li class=MsoNormal style='line-height:115%'><b>Agricultura de precis�o</b>,
     coletando dados clim�ticos em tempo real.</li>
 <li class=MsoNormal style='line-height:115%'><b>Sistemas de alerta</b> para
     varia��es de temperatura e umidade.</li>
</ul>

<p class=MsoNormal style='line-height:115%'><b><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></b></p>

<p class=MsoNormal style='line-height:115%'>&nbsp;</p>

<p class=Ttulo1ABNT><a name="_Toc193146474">6 SimulIDE e Arduino: Montando o
Laborat�rio Virtual (Sistema Virtual)</a></p>

<p class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
line-height:115%'><span style='font-size:10.0pt;line-height:115%'>&nbsp;</span></p>

<ul style='margin-top:0cm' type=disc>
 <li class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
     line-height:115%'><b>Adicionando o Arduino:</b> No SimulIDE, voc� precisa
     adicionar um Arduino ao seu painel de simula��o (a �rea quadriculada onde
     voc� monta seus circuitos). � como pegar um Arduino real e coloc�-lo na
     sua bancada de trabalho.</li>
 <li class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
     line-height:115%'><b>Pinagem Serial (TX/RX):</b> O Arduino tem pinos
     (conectores) que podem ser usados para comunica��o serial. Este guia usa
     os pinos 4 (TX - Transmitir) e 5 (RX - Receber). TX envia dados para fora
     do Arduino, e RX recebe dados de outros dispositivos.</li>
 <li class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
     line-height:115%'><b>Monitor Serial:</b> Ao clicar com o bot�o direito no
     Arduino no SimulIDE, voc� ver� uma op��o para abrir o &quot;Monitor
     Serial&quot;. Isso � como uma janela de bate-papo onde voc� pode ver os
     dados que o Arduino est� enviando e enviar comandos para ele.</li>
</ul>

<p class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
line-height:115%'><b><span style='font-size:10.0pt;line-height:115%'>&nbsp;</span></b></p>

<p class=Ttulo2ABNT><a name="_Toc193146475">6.1 Interface Serial Externa:
Criando a Ponte para o Mundo Exterior</a></p>

<p class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
line-height:115%'><span style='font-size:10.0pt;line-height:115%'>&nbsp;</span></p>

<ul style='margin-top:0cm' type=disc>
 <li class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
     line-height:115%'><b>O que � a Interface Serial Externa?</b> Para que o
     SimulIDE se comunique com o Windows (ou outros programas), voc� precisa de
     um &quot;adaptador&quot; virtual. A Interface Serial Externa no SimulIDE
     faz esse papel.</li>
 <li class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
     line-height:115%'><b>Porta Serial Virtual:</b> Essa interface tem um campo
     onde voc� define o nome de uma porta serial virtual. Pense nisso como um
     n�mero de telefone virtual que o SimulIDE usar� para se conectar ao
     Windows.</li>
 <li class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
     line-height:115%'><b>Bot�o &quot;Open/Close&quot;:</b> Essa interface tem
     um bot�o &quot;Open&quot;. Quando voc� clica nele, ele muda para
     &quot;Close&quot;, indicando que a comunica��o foi iniciada.</li>
 <li class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
     line-height:115%'><b>com0com: O Segredo da Conex�o:</b> Para que tudo isso
     funcione, voc� precisa de um programa chamado &quot;com0com&quot;. Ele
     cria portas seriais virtuais no Windows. � como instalar os cabos
     telef�nicos virtuais necess�rios para a comunica��o.</li>
</ul>

<p class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
line-height:115%'><b><span style='font-size:10.0pt;line-height:115%'>&nbsp;</span></b></p>

<p class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
line-height:115%'><b>6.2 Configurando as Portas Seriais Virtuais: Definindo os
N�meros de Telefone</b></p>

<p class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
line-height:115%'><span style='font-size:10.0pt;line-height:115%'>&nbsp;</span></p>

<ul style='margin-top:0cm' type=disc>
 <li class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
     line-height:115%'><b>Criando Portas Virtuais:</b> O documento sugere criar
     duas portas seriais virtuais usando o com0com: </li>
 <ul style='margin-top:0cm' type=circle>
  <li class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
      line-height:115%'><b>COM3:</b> Essa porta ser� usada pelo SimulIDE para
      se comunicar com o Arduino virtual.</li>
  <li class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
      line-height:115%'><b>COM4:</b> Essa porta ser� usada por outros programas
      no Windows (como o NetCat ou Putty) para se comunicar com o Arduino
      virtual.</li>
 </ul>
 <li class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
     line-height:115%'><b>Arduino IDE:</b> No Arduino IDE (o programa que voc�
     usa para escrever c�digo para o Arduino), voc� precisa selecionar a porta
     COM3 para enviar o c�digo para o Arduino no SimulIDE.</li>
 <li class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
     line-height:115%'><b>Diret�rio do Arduino IDE:</b> O SimulIDE precisa
     saber onde o Arduino IDE est� instalado no seu computador. Isso permite
     que o SimulIDE use o compilador do Arduino IDE para transformar seu c�digo
     em algo que o Arduino virtual possa entender.</li>
</ul>

<p class=MsoNormal style='line-height:115%'><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></p>

<p class=MsoNormal style='line-height:115%'><b>6.3 C�digo em Python</b></p>

<p class=MsoNormal style='line-height:115%'>O script executado no computador:</p>

<ul style='margin-top:0cm' type=disc>
 <li class=MsoNormal style='line-height:115%'>Estabelece comunica��o com a <b>porta
     COM4</b> (onde o Arduino envia os dados).</li>
 <li class=MsoNormal style='line-height:115%'>L� os dados da serial e converte
     para JSON.</li>
 <li class=MsoNormal style='line-height:115%'>Publica os valores de temperatura
     e umidade no <b>broker MQTT</b>.</li>
 <li class=MsoNormal style='line-height:115%'>Garante que os dados possam ser
     acessados por outros dispositivos conectados � rede.</li>
</ul>

<div class=TextoWeb align=center style='text-align:center;line-height:115%'>

<hr size=2 width="100%" noshade style='color:black' align=center>

</div>

<p class=Ttulo1ABNT><a name="_Toc193146476">7. Requisitos</a></p>

<p class=TextoWeb style='line-height:115%'>Antes de come�armos, certifique-se
de ter os seguintes softwares instalados:</p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>SimulIDE</b>&nbsp;(Ambiente de simula��o para eletr�nica e
microcontroladores)</p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Arduino IDE</b>&nbsp;(Para compilar e carregar c�digo para o
Arduino simulado)</p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:42.3pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=604 valign=top style='width:453.35pt;border:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>Roteiro para Instala��o e Configura��o do Ambiente Arduino
  IDE e SimulIDE</span></b></p>
  <p class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>1. Prepara��o do Ambiente</span></b></p>
  <ul style='margin-top:0cm' type=disc>
   <li class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
       line-height:115%'>Verifique os requisitos do sistema:</span></b><span
       style='font-size:11.0pt;line-height:115%'> Certifique-se de que seu
       sistema atenda aos requisitos m�nimos para rodar o SimulIDE e o Arduino
       IDE.</span></li>
  </ul>
  <p class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>2. Instala��o do Arduino IDE</span></b></p>
  <ul style='margin-top:0cm' type=disc>
   <li class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
       line-height:115%'>Baixe o Arduino IDE:</span></b></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Acesse o </span><a
       href="https://www.arduino.cc/en/software"><span style='font-size:11.0pt;
       line-height:115%'>site oficial do Arduino</span></a><span
       style='font-size:11.0pt;line-height:115%'>.</span></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Escolha a vers�o adequada para o seu sistema
       operacional (Windows, macOS ou Linux).</span></li>
   <li class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
       line-height:115%'>Instale o Arduino IDE:</span></b></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Execute o instalador baixado e siga as instru��es na
       tela.</span></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Ap�s a instala��o, abra o Arduino IDE.</span></li>
  </ul>
  <p class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>3. Instala��o do SimulIDE</span></b></p>
  <ul style='margin-top:0cm' type=disc>
   <li class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
       line-height:115%'>Baixe o SimulIDE:</span></b></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Acesse o </span><a
       href="https://simulide.blogspot.com/"><span style='font-size:11.0pt;
       line-height:115%'>site do SimulIDE</span></a><span style='font-size:
       11.0pt;line-height:115%'>.</span></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Fa�a o download da vers�o mais recente para seu
       sistema operacional.</span></li>
   <li class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
       line-height:115%'>Instale o SimulIDE:</span></b></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Para Windows, extraia o arquivo ZIP e execute o
       SimulIDE.exe.</span></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Para Linux, fa�a o download do pacote e siga as
       instru��es de instala��o espec�ficas da distribui��o.</span></li>
  </ul>
  <p class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>4. Configura��o do SimulIDE</span></b></p>
  <ul style='margin-top:0cm' type=disc>
   <li class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
       line-height:115%'>Abra o SimulIDE:</span></b></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Ao abrir, voc� ver� a interface principal.</span></li>
   <li class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
       line-height:115%'>Adicione o Arduino ao SimulIDE:</span></b></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Arraste o m�dulo Arduino da biblioteca de componentes
       para o painel de simula��o.</span></li>
   <li class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
       line-height:115%'>Configure as portas de comunica��o:</span></b></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Se necess�rio, configure os pinos TX (4) e RX (5) para
       comunica��o serial.</span></li>
  </ul>
  <p class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>5. Configura��o do Arduino Simulado</span></b></p>
  <ul style='margin-top:0cm' type=disc>
   <li class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
       line-height:115%'>Adicione um Sensor (ex: DHT22):</span></b></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Localize o sensor DHT22 na biblioteca de componentes
       do SimulIDE e arraste-o para a simula��o.</span></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Conecte os pinos VCC, GND e DATA conforme descrito no
       guia.</span></li>
   <li class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
       line-height:115%'>Monte o circuito:</span></b></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Certifique-se de que todas as conex�es est�o corretas.</span></li>
  </ul>
  <p class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>6. Criando o C�digo no Arduino IDE</span></b></p>
  <ul style='margin-top:0cm' type=disc>
   <li class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
       line-height:115%'>Escreva o c�digo para o Arduino:</span></b></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Utilize a biblioteca DHT para implementar a leitura do
       sensor.</span></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Um exemplo b�sico de c�digo j� foi mencionado no guia.</span></li>
  </ul>
  <p class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>7. Testando a Simula��o</span></b></p>
  <ul style='margin-top:0cm' type=disc>
   <li class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
       line-height:115%'>Compile e execute o c�digo:</span></b></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Antes de compilar, configure o tipo de placa correta e
       a porta COM (se estiver usando algum dispositivo f�sico).</span></li>
   <li class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
       line-height:115%'>Inicie a simula��o no SimulIDE:</span></b></li>
   <li class=MsoNormal style='line-height:115%'><span style='font-size:11.0pt;
       line-height:115%'>Observe os dados no monitor serial do SimulIDE para
       garantir que o sensor est� funcionando corretamente.</span></li>
  </ul>
  <p class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>8. Integra��o com Comunica��es Seriais</span></b></p>
  <ul style='margin-top:0cm' type=disc>
   <li class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
       line-height:115%'>Configure portas seriais virtuais, se necess�rio
       (com0com ou similar).</span></b></li>
   <li class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
       line-height:115%'>Utilize ferramentas como NetCat ou Putty para testar a
       comunica��o.</span></b></li>
  </ul>
  <p class=MsoNormal style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>Conclus�o</span></b></p>
  <p class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
  line-height:115%'><span style='font-size:11.0pt;line-height:115%'>Ao final
  dessa configura��o, voc� dever� ter um ambiente de simula��o funcional com
  Arduino e SimulIDE, capaz de ler e processar dados de sensores virtuais.
  Aproveite para experimentar e expandir os seus projetos com diferentes
  componentes e funcionalidades!</span></p>
  </td>
 </tr>
</table>

<p class=TextoWeb style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:35.7pt;text-indent:-17.85pt;line-height:115%'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>com0com</b>&nbsp;(Para criar portas seriais virtuais)</p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:42.3pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=604 valign=top style='width:453.35pt;border:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=TextoWeb style='line-height:115%'><span style='font-size:11.0pt;
  line-height:115%'>A instala��o do emulador de portas seriais virtuais com0com
  � um passo importante para criar uma comunica��o entre o SimulIDE e outros
  aplicativos ou dispositivos. Aqui est� um guia passo a passo para a
  instala��o e configura��o do com0com:</span></p>
  <p class=TextoWeb style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>Guia de Instala��o do com0com</span></b></p>
  <p class=TextoWeb style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>1. Download do com0com</span></b></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><span style='font-size:11.0pt;line-height:115%'>Acesse o site
  oficial do com0com: </span><a href="https://sourceforge.net/projects/com0com/"><span
  style='font-size:11.0pt;line-height:115%'>com0com SourceForge</span></a><span
  style='font-size:11.0pt;line-height:115%'>.</span></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><span style='font-size:11.0pt;line-height:115%'>Clique no link
  de download da vers�o mais recente (geralmente h� um arquivo ZIP dispon�vel).</span></p>
  <p class=TextoWeb style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>2. Instala��o do com0com</span></b></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><b><span style='font-size:11.0pt;line-height:115%'>Extraia o
  arquivo ZIP:</span></b></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><span style='font-size:11.0pt;line-height:115%'>Ap�s o
  download, extraia o conte�do do arquivo ZIP em uma pasta de sua escolha.</span></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><b><span style='font-size:11.0pt;line-height:115%'>Execute o
  instalador:</span></b></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><span style='font-size:11.0pt;line-height:115%'>Navegue at� a
  pasta extra�da e execute o arquivo setup.exe ou similar.</span></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><b><span style='font-size:11.0pt;line-height:115%'>Siga o
  Wizard de instala��o:</span></b></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><span style='font-size:11.0pt;line-height:115%'>Durante a
  instala��o, voc� ser� orientado por um assistente. Escolha as op��es padr�o,
  a menos que voc� tenha requisitos espec�ficos.</span></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><span style='font-size:11.0pt;line-height:115%'>O instalador
  pode solicitar permiss�es de administrador; aceite para que a instala��o
  prossiga.</span></p>
  <p class=TextoWeb style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>3. Configura��o do com0com</span></b></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><b><span style='font-size:11.0pt;line-height:115%'>Abra o
  'com0com Setup':</span></b></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><span style='font-size:11.0pt;line-height:115%'>Ap�s a
  instala��o, voc� pode encontrar o aplicativo no menu Iniciar ou na pasta onde
  o com0com foi instalado. Execute setup para abrir a interface de configura��o
  do com0com.</span></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><b><span style='font-size:11.0pt;line-height:115%'>Adicione um
  par de portas seriais virtuais:</span></b></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><span style='font-size:11.0pt;line-height:115%'>Na interface do
  com0com, voc� ver� op��es para adicionar portas. Clique em &quot;Add
  Pair&quot; ou &quot;Adicionar Par&quot;.</span></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><span style='font-size:11.0pt;line-height:115%'>Voc� ver� duas
  novas portas seriais (por exemplo, COM3 e COM4).</span></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><b><span style='font-size:11.0pt;line-height:115%'>Conclua a
  configura��o:</span></b></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><span style='font-size:11.0pt;line-height:115%'>Ap�s adicionar
  as portas, clique em &quot;OK&quot; ou &quot;Aplicar&quot; para finalizar a
  configura��o.</span></p>
  <p class=TextoWeb style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>4. Verifica��o das Portas Virtuais</span></b></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><b><span style='font-size:11.0pt;line-height:115%'>Acesse o
  Gerenciador de Dispositivos do Windows:</span></b></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><span style='font-size:11.0pt;line-height:115%'>Abra o
  Gerenciador de Dispositivos (pressione Win + X e selecione Gerenciador de
  Dispositivos).</span></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><b><span style='font-size:11.0pt;line-height:115%'>Verifique as
  portas:</span></b></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><span style='font-size:11.0pt;line-height:115%'>Expanda a se��o
  &quot;Portas (COM &amp; LPT)&quot; e veja se suas novas portas (COM3 e COM4,
  por exemplo) est�o listadas. Isso confirma que o emulador foi instalado
  corretamente.</span></p>
  <p class=TextoWeb style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>5. Configura��o de Aplicativos</span></b></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><b><span style='font-size:11.0pt;line-height:115%'>Configure o
  SimulIDE:</span></b></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><span style='font-size:11.0pt;line-height:115%'>No SimulIDE,
  adicione um m�dulo de Interface Serial e configure-o para usar a porta COM
  que voc� designou (ex: COM3).</span></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><b><span style='font-size:11.0pt;line-height:115%'>Configure a
  comunica��o com outros aplicativos (como NetCat):</span></b></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><span style='font-size:11.0pt;line-height:115%'>Para enviar
  dados da porta COM4 para um aplicativo externo, voc� pode utilizar
  ferramentas como NetCat.</span></p>
  <p class=TextoWeb style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>6. Teste da Comunica��o</span></b></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><b><span style='font-size:11.0pt;line-height:115%'>Verifique a
  comunica��o:</span></b></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><span style='font-size:11.0pt;line-height:115%'>Utilize um
  aplicativo como o PuTTY ou o pr�prio NetCat para garantir que as portas est�o
  comunicando corretamente entre si.</span></p>
  <p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
  115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><span style='font-size:11.0pt;line-height:115%'>Para abrir um
  terminal no NetCat e redirecionar a sa�da, voc� pode fazer a seguinte
  configura��o (no prompt de comando):</span></p>
  <p class=TextoWeb style='margin-left:35.4pt;line-height:115%'><span
  style='font-size:11.0pt;line-height:115%;font-family:"Courier New"'>nc -l -p
  1234 &lt; COM4</span></p>
  <p class=TextoWeb style='line-height:115%'><b><span style='font-size:11.0pt;
  line-height:115%'>Conclus�o</span></b></p>
  <p class=TextoWeb style='line-height:115%'><span style='font-size:11.0pt;
  line-height:115%'>Com o com0com instalado e configurado, voc� ter� um
  ambiente de portas seriais virtuais que permite a comunica��o entre o
  SimulIDE e outros softwares, oferecendo maior flexibilidade para simula��es e
  testes. Essa configura��o � crucial para opera��es em que dispositivos
  f�sicos ou virtuais precisam interagir com um servidor ou outro conjunto de
  dispositivos.</span></p>
  <p class=TextoWeb style='line-height:115%'><span style='font-size:11.0pt;
  line-height:115%'>Aproveite a integra��o do com0com em seus projetos de
  simula��o e teste!</span></p>
  </td>
 </tr>
</table>

<p class=TextoWeb style='margin-top:12.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:36.0pt;margin-bottom:.0001pt;text-indent:-18.0pt;line-height:115%'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>VirtualBox</b>&nbsp;(Para virtualizar o Proxmox no Windows)</p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Proxmox VE</b>&nbsp;(Ambiente de virtualiza��o onde rodaremos
o servidor MQTT)</p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'><span style='font-size:10.0pt;line-height:115%;font-family:Symbol'>�<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Mosquitto MQTT Broker</b>&nbsp;(Para gerenciar mensagens
enviadas pelos sensores)</p>

<p class=MsoNormal style='line-height:115%'><span style='font-size:10.0pt;
line-height:115%'>&nbsp;</span></p>

<div class=TextoWeb align=center style='text-align:center'>

<hr size=2 width="100%" noshade style='color:black' align=center>

</div>

<p class=TextoWeb style='line-height:115%'><b>&nbsp;</b></p>

<p class=Ttulo1ABNT><a name="_Toc193146477">8. Configura��o do SimulIDE e
Arduino Simulado</a></p>

<p class=TextoWeb>&nbsp;</p>

<p class=Ttulo2ABNT><a name="_Toc193146478">8.1 Adicionando o Arduino ao
SimulIDE</a></p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Abra o <b>SimulIDE</b>.</p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Arraste o m�dulo <b>Arduino</b> para o painel de simula��o.</p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Configure os pinos <b>4 (RX)</b> e <b>5 (TX)</b> para comunica��o
serial.</p>

<p class=TextoWeb style='line-height:115%'><b>&nbsp;</b></p>

<p class=Ttulo2ABNT><a name="_Toc193146479">8.2 Configurando o M�dulo DHT22 no
SimulIDE</a></p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>No <b>SimulIDE</b>, localize o sensor <b>DHT22</b> na biblioteca de
componentes.</p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Arraste o m�dulo <b>DHT22</b> para o painel de simula��o.</p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Conecte os pinos:</p>

<p class=TextoWeb style='margin-left:72.0pt;text-indent:-18.0pt;line-height:
115%'><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New"'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><b>VCC</b>
ao <b>5V</b> do Arduino.</p>

<p class=TextoWeb style='margin-left:72.0pt;text-indent:-18.0pt;line-height:
115%'><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New"'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><b>GND</b>
ao <b>GND</b> do Arduino.</p>

<p class=TextoWeb style='margin-left:72.0pt;text-indent:-18.0pt;line-height:
115%'><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New"'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><b>DATA</b>
ao <b>pino 6</b> do Arduino.</p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Configure o SimulIDE para visualizar os dados do sensor no monitor
serial.</p>

<p class=TextoWeb style='line-height:115%'><b>&nbsp;</b></p>

<p class=Ttulo2ABNT><a name="_Toc193146480">8.3 Criando um C�digo para o DHT22
no Arduino IDE</a></p>

<p class=TextoWeb style='line-height:115%'>&nbsp;</p>

<p class=TextoWeb style='line-height:115%'>Instale a biblioteca do <b>DHT</b>
no Arduino IDE, se ainda n�o tiver:</p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Compile e execute o c�digo no SimulIDE.</p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:36.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=661 valign=top style='width:495.65pt;border:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='line-height:115%'><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#1F7199'>#<b>include</b> </span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#4D99BF'>&lt;DHT.h&gt;</span><span style='font-size:10.0pt;line-height:
  115%;font-family:"Courier New";color:#444444'><br>
  </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#1F7199'>#<b>include</b> </span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#4D99BF'>&lt;ArduinoJson.h&gt;</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'><br>
  </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#1F7199'>#<b>include</b> </span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#4D99BF'>&lt;SoftwareSerial.h&gt;</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'><br>
  <br>
  </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Defini��es do sensor DHT22</span><span style='font-size:
  10.0pt;line-height:115%;font-family:"Courier New";color:#444444'><br>
  </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#1F7199'>#<b>define</b> DHTPIN 6��������� </span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Pino onde o DHT22 est� conectado</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'><br>
  </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#1F7199'>#<b>define</b> DHTTYPE DHT22���� </span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Tipo do sensor DHT</span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#444444'><br>
  <br>
  DHT dht(DHTPIN, DHTTYPE);<br>
  <br>
  </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Defini��es da porta serial externa</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'><br>
  </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#397300'>SoftwareSerial</span><span style='font-size:10.0pt;line-height:
  115%;font-family:"Courier New";color:#444444'> extSerial(</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#880000'>4</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#444444'>, </span><span style='font-size:
  10.0pt;line-height:115%;font-family:"Courier New";color:#880000'>5</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>); </span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#888888'>// RX (pino 4), TX (pino 5)</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'><br>
  <br>
  </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Intervalo de leitura do sensor (em milissegundos)</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'><br>
  <b>const</b> <b>unsigned</b> <b>long</b> READ_INTERVAL = </span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#880000'>5000</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#444444'>; </span><span style='font-size:
  10.0pt;line-height:115%;font-family:"Courier New";color:#888888'>// Intervalo
  de leitura (5s)</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#444444'><br>
  <br>
  </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Vari�veis para controle de tempo</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'><br>
  <b>unsigned</b> <b>long</b> lastReadTime = </span><span style='font-size:
  10.0pt;line-height:115%;font-family:"Courier New";color:#880000'>0</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>;<br>
  <br>
  </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Fun��o para inicializar o sistema</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'><br>
  <b>void</b> </span><span style='font-size:10.0pt;line-height:115%;font-family:
  "Courier New";color:#397300'>setup</span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#444444'>() {<br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Inicializa a comunica��o serial padr�o para depura��o
  (opcional)</span><span style='font-size:10.0pt;line-height:115%;font-family:
  "Courier New";color:#444444'><br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#397300'>Serial</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#444444'>.</span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#397300'>begin</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>(</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#880000'>115200</span><span style='font-size:
  10.0pt;line-height:115%;font-family:"Courier New";color:#444444'>);<br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#397300'>delay</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#444444'>(</span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#880000'>100</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>); </span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#888888'>// Pequeno delay para estabilizar a
  comunica��o</span><span style='font-size:10.0pt;line-height:115%;font-family:
  "Courier New";color:#444444'><br>
  <br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Inicializa a comunica��o serial externa (COM3 no SimulIDE)</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'><br>
  ��� extSerial.</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#397300'>begin</span><span style='font-size:
  10.0pt;line-height:115%;font-family:"Courier New";color:#444444'>(</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#880000'>9600</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#444444'>); </span><span style='font-size:
  10.0pt;line-height:115%;font-family:"Courier New";color:#888888'>// Taxa de
  transmiss�o ajustada para 9600 bps</span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#444444'><br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#397300'>delay</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#444444'>(</span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#880000'>100</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>);<br>
  <br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Inicializa o sensor DHT</span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#444444'><br>
  ��� dht.</span><span style='font-size:10.0pt;line-height:115%;font-family:
  "Courier New";color:#397300'>begin</span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#444444'>();<br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#397300'>Serial</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#444444'>.</span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#397300'>println</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>(</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#880000'>&quot;Sistema iniciado. Aguardando
  leitura de dados...&quot;</span><span style='font-size:10.0pt;line-height:
  115%;font-family:"Courier New";color:#444444'>);<br>
  ��� extSerial.</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#397300'>println</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>(</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#880000'>&quot;Sistema iniciado. Aguardando
  leitura de dados...&quot;</span><span style='font-size:10.0pt;line-height:
  115%;font-family:"Courier New";color:#444444'>);<br>
  }<br>
  <br>
  </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Fun��o para ler dados do sensor e enviar via SoftwareSerial</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'><br>
  <b>void</b> readAndSendData() {<br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// L� os dados do sensor DHT22</span><span style='font-size:
  10.0pt;line-height:115%;font-family:"Courier New";color:#444444'><br>
  ��� <b>float</b> h = dht.readHumidity();<br>
  ��� <b>float</b> t = dht.</span><span style='font-size:10.0pt;line-height:
  115%;font-family:"Courier New";color:#397300'>readTemperature</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>();<br>
  <br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Verifica se as leituras falharam</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'><br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#397300'>if</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#444444'> (isnan(h) || isnan(t)) {<br>
  ������� </span><span style='font-size:10.0pt;line-height:115%;font-family:
  "Courier New";color:#397300'>Serial</span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#444444'>.</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#397300'>println</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#444444'>(</span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#880000'>&quot;Falha ao ler
  do DHT!&quot;</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#444444'>);<br>
  ������� extSerial.</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#397300'>println</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>(</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#880000'>&quot;Falha ao ler do DHT!&quot;</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>);<br>
  ������� </span><span style='font-size:10.0pt;line-height:115%;font-family:
  "Courier New";color:#397300'>return</span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#444444'>;<br>
  ��� }<br>
  <br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Cria um documento JSON usando ArduinoJson</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'><br>
  ��� StaticJsonDocument&lt;</span><span style='font-size:10.0pt;line-height:
  115%;font-family:"Courier New";color:#880000'>200</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>&gt; doc;<br>
  ��� doc[</span><span style='font-size:10.0pt;line-height:115%;font-family:
  "Courier New";color:#880000'>&quot;temperatura&quot;</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>] = t;<br>
  ��� doc[</span><span style='font-size:10.0pt;line-height:115%;font-family:
  "Courier New";color:#880000'>&quot;umidade&quot;</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>] = h;<br>
  <br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Serializa o JSON em um buffer</span><span style='font-size:
  10.0pt;line-height:115%;font-family:"Courier New";color:#444444'><br>
  ��� <b>char</b> </span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#397300'>buffer</span><span style='font-size:
  10.0pt;line-height:115%;font-family:"Courier New";color:#444444'>[</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#880000'>200</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#444444'>];<br>
  ��� serializeJson(doc, </span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#397300'>buffer</span><span style='font-size:
  10.0pt;line-height:115%;font-family:"Courier New";color:#444444'>);<br>
  <br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Envia os dados via SoftwareSerial (COM3 no SimulIDE)</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'><br>
  ��� extSerial.</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#397300'>println</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>(</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#397300'>buffer</span><span style='font-size:
  10.0pt;line-height:115%;font-family:"Courier New";color:#444444'>);<br>
  <br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Exibe os dados no monitor serial padr�o para depura��o
  (opcional)</span><span style='font-size:10.0pt;line-height:115%;font-family:
  "Courier New";color:#444444'><br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#397300'>Serial</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#444444'>.</span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#397300'>print</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>(</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#880000'>&quot;Dados enviados: &quot;</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>);<br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#397300'>Serial</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#444444'>.</span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#397300'>println</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>(</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#397300'>buffer</span><span style='font-size:
  10.0pt;line-height:115%;font-family:"Courier New";color:#444444'>);<br>
  }<br>
  <br>
  </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Fun��o principal de loop</span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#444444'><br>
  <b>void</b> </span><span style='font-size:10.0pt;line-height:115%;font-family:
  "Courier New";color:#397300'>loop</span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#444444'>() {<br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#888888'>// Verifica se � hora de ler os dados do sensor</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'><br>
  ��� <b>unsigned</b> <b>long</b> now = </span><span style='font-size:10.0pt;
  line-height:115%;font-family:"Courier New";color:#397300'>millis</span><span
  style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#444444'>();<br>
  ��� </span><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New";
  color:#397300'>if</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#444444'> (now - lastReadTime &gt;=
  READ_INTERVAL) {<br>
  ������� lastReadTime = now;<br>
  ������� readAndSendData(); </span><span style='font-size:10.0pt;line-height:
  115%;font-family:"Courier New";color:#888888'>// L� e envia os dados via
  SoftwareSerial</span><span style='font-size:10.0pt;line-height:115%;
  font-family:"Courier New";color:#444444'><br>
  ��� }<br>
  }</span></p>
  </td>
 </tr>
</table>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>No monitor serial do SimulIDE, verifique os valores lidos pelo sensor.</p>

<p class=TextoWeb style='line-height:115%'><b>&nbsp;</b></p>

<p class=Ttulo2ABNT><a name="_Toc193146481">8.4 Configurando a Porta Serial
Virtual</a></p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Instale o <b>com0com</b> e crie duas portas seriais virtuais:</p>

<p class=TextoWeb style='margin-left:72.0pt;text-indent:-18.0pt;line-height:
115%'><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New"'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><b>COM3</b>
(para comunica��o com o SimulIDE)</p>

<p class=TextoWeb style='margin-left:72.0pt;text-indent:-18.0pt;line-height:
115%'><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New"'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><b>COM4</b>
(para comunica��o com aplicativos externos)</p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>No <b>SimulIDE</b>, adicione o m�dulo <b>Interface Serial</b> e defina a
porta como <b>COM3</b>.</p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>No <b>Arduino IDE</b>, configure a porta <b>COM3</b> para intera��o com
o Arduino simulado.</p>

<div class=TextoWeb align=center style='text-align:center;line-height:115%'>

<hr size=2 width="100%" align=center>

</div>

<p class=TextoWeb style='line-height:115%'><b>&nbsp;</b></p>

<p class=Ttulo1ABNT><a name="_Toc193146482">9 Configura��o da Conex�o com o Script
Python</a></p>

<ul style='margin-top:0cm' type=disc>
 <li class=MsoNormal style='line-height:115%'><b>Script Python</b>: </li>
 <ul style='margin-top:0cm' type=circle>
  <li class=MsoNormal style='line-height:115%'>Instalar biblioteca <b>pyserial</b>
      para leitura dos dados da porta serial.</li>
  <li class=MsoNormal style='line-height:115%'>Instalar biblioteca <b>paho-mqtt</b>
      para publica��o dos dados no broker MQTT.</li>
  <li class=MsoNormal style='line-height:115%'>Instalar biblioteca <b>json</b>
      para manipula��o dos dados.</li>
 </ul>
</ul>

<ul style='margin-top:0cm' type=disc>
 <li class=MsoNormal style='line-height:115%'><span lang=EN-US>pip install
     pyserial paho-mqtt json pyserial</span></li>
 <li class=MsoNormal style='line-height:115%'>Escrever o c�digo da ponte Python
     MQTT (arquivo: <span style='font-size:10.0pt;line-height:115%;font-family:
     "Courier New"'>pontemqtt.py</span>): </li>
</ul>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:36.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=661 valign=top style='width:495.65pt;border:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span style='font-size:10.0pt;font-family:"Courier New";
  color:#444444'>import</span></b><span style='font-size:10.0pt;font-family:
  "Courier New";color:#444444'> serial<br>
  <b>import</b> paho.mqtt.client <b>as</b> mqtt<br>
  <b>import</b> json<br>
  <b>from</b> paho.mqtt.client <b>import</b> CallbackAPIVersion<br>
  <br>
  </span><span style='font-size:10.0pt;font-family:"Courier New";color:#888888'>#
  Configura��es do broker MQTT</span><span style='font-size:10.0pt;font-family:
  "Courier New";color:#444444'><br>
  mqtt_broker = </span><span style='font-size:10.0pt;font-family:"Courier New";
  color:#880000'>&quot;localhost&quot;</span><span style='font-size:10.0pt;
  font-family:"Courier New";color:#444444'>� </span><span style='font-size:
  10.0pt;font-family:"Courier New";color:#888888'># Endere�o do broker MQTT</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:#444444'><br>
  mqtt_topic = </span><span style='font-size:10.0pt;font-family:"Courier New";
  color:#880000'>&quot;sensor/dht22&quot;</span><span style='font-size:10.0pt;
  font-family:"Courier New";color:#444444'><br>
  mqtt_client = mqtt.Client(callback_api_version=CallbackAPIVersion.VERSION1,
  client_id=</span><span style='font-size:10.0pt;font-family:"Courier New";
  color:#880000'>&quot;PythonClient&quot;</span><span style='font-size:10.0pt;
  font-family:"Courier New";color:#444444'>)<br>
  mqtt_client.connect(mqtt_broker, </span><span style='font-size:10.0pt;
  font-family:"Courier New";color:#880000'>1883</span><span style='font-size:
  10.0pt;font-family:"Courier New";color:#444444'>, </span><span
  style='font-size:10.0pt;font-family:"Courier New";color:#880000'>60</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:#444444'>)<br>
  <br>
  </span><span style='font-size:10.0pt;font-family:"Courier New";color:#888888'>#
  Configura��es da porta serial</span><span style='font-size:10.0pt;font-family:
  "Courier New";color:#444444'><br>
  serial_port = </span><span style='font-size:10.0pt;font-family:"Courier New";
  color:#880000'>&quot;COM4&quot;</span><span style='font-size:10.0pt;
  font-family:"Courier New";color:#444444'>� </span><span style='font-size:
  10.0pt;font-family:"Courier New";color:#888888'># Ajuste para a porta correta</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:#444444'><br>
  baud_rate = </span><span style='font-size:10.0pt;font-family:"Courier New";
  color:#880000'>9600</span><span style='font-size:10.0pt;font-family:"Courier New";
  color:#444444'><br>
  ser = serial.Serial(serial_port, baud_rate, timeout=</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:#880000'>1</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:#444444'>)<br>
  <br>
  print(</span><span style='font-size:10.0pt;font-family:"Courier New";
  color:#880000'>&quot;Lendo dados da porta serial e publicando no MQTT...&quot;</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:#444444'>)<br>
  <br>
  <b>while</b> </span><span style='font-size:10.0pt;font-family:"Courier New";
  color:#78A960'>True</span><span style='font-size:10.0pt;font-family:"Courier New";
  color:#444444'>:<br>
  ��� <b>if</b> ser.in_waiting &gt; </span><span style='font-size:10.0pt;
  font-family:"Courier New";color:#880000'>0</span><span style='font-size:10.0pt;
  font-family:"Courier New";color:#444444'>:<br>
  ������� line = ser.readline().decode(</span><span style='font-size:10.0pt;
  font-family:"Courier New";color:#880000'>'utf-8'</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:#444444'>).strip()<br>
  ������� <b>try</b>:<br>
  ����������� data = json.loads(line)� </span><span style='font-size:10.0pt;
  font-family:"Courier New";color:#888888'># Parse JSON</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:#444444'><br>
  ����������� print(</span><span style='font-size:10.0pt;font-family:"Courier New";
  color:#880000'>f&quot;Dados recebidos: </span><span style='font-size:10.0pt;
  font-family:"Courier New";color:#444444'>{data}</span><span style='font-size:
  10.0pt;font-family:"Courier New";color:#880000'>&quot;</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:#444444'>)<br>
  ����������� mqtt_client.publish(mqtt_topic, line)� </span><span
  style='font-size:10.0pt;font-family:"Courier New";color:#888888'># Publica no
  MQTT</span><span style='font-size:10.0pt;font-family:"Courier New";
  color:#444444'><br>
  ����������� print(</span><span style='font-size:10.0pt;font-family:"Courier New";
  color:#880000'>f&quot;Dados publicados no t�pico </span><span
  style='font-size:10.0pt;font-family:"Courier New";color:#444444'>{mqtt_topic}</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:#880000'>&quot;</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:#444444'>)<br>
  ������� <b>except</b> json.JSONDecodeError:<br>
  ����������� print(</span><span style='font-size:10.0pt;font-family:"Courier New";
  color:#880000'>&quot;Erro ao decodificar JSON&quot;</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:#444444'>)</span></p>
  </td>
 </tr>
</table>

<ul style='margin-top:0cm' type=disc>
 <li class=MsoNormal style='line-height:115%'>Criar e executar o script Python
     para receber os dados da porta serial e public�-los no MQTT.</li>
</ul>

<div class=TextoWeb align=center style='text-align:center;line-height:115%'>

<hr size=2 width="100%" align=center>

</div>

<p class=TextoWeb><b><span style='font-size:11.0pt'>&nbsp;</span></b></p>

<p class=Ttulo1ABNT><a name="_Toc193146483">10 Instalando e Configurando o
Proxmox no VirtualBox</a></p>

<p class=TextoWeb style='line-height:115%'><b>&nbsp;</b></p>

<p class=Ttulo2ABNT><a name="_Toc193146484">10.1 Criando a M�quina Virtual no
VirtualBox</a></p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Abra o <b>VirtualBox</b> e crie uma nova VM com as seguintes
configura��es:</p>

<p class=TextoWeb style='margin-left:72.0pt;text-indent:-18.0pt;line-height:
115%'><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New"'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>Nome: <b>Proxmox</b></p>

<p class=TextoWeb style='margin-left:72.0pt;text-indent:-18.0pt;line-height:
115%'><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New"'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>Tipo: <b>Linux</b></p>

<p class=TextoWeb style='margin-left:72.0pt;text-indent:-18.0pt;line-height:
115%'><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New"'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>Mem�ria: <b>4GB
RAM</b></p>

<p class=TextoWeb style='margin-left:72.0pt;text-indent:-18.0pt;line-height:
115%'><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New"'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>Disco: <b>20GB</b>
(ou mais)</p>

<p class=TextoWeb style='margin-left:72.0pt;text-indent:-18.0pt;line-height:
115%'><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New"'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>Rede: <b>Modo
Bridge</b></p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Instale o <b>Proxmox VE</b> normalmente.</p>

<p class=TextoWeb style='line-height:115%'><b>&nbsp;</b></p>

<p class=Ttulo2ABNT><a name="_Toc193146485">10.2 Instalando o Mosquitto MQTT
Broker</a></p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Acesse o terminal do Proxmox e instale o Mosquitto:</p>

<p class=TextoWeb style='line-height:115%'><span lang=EN-US style='font-size:
11.0pt;line-height:115%;font-family:"Courier New"'>apt update &amp;&amp; apt
install mosquitto mosquitto-clients -y</span></p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Inicie o Mosquitto:</p>

<p class=TextoWeb style='line-height:115%'><span style='font-size:11.0pt;
line-height:115%;font-family:"Courier New"'>systemctl start mosquitto</span></p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Edite o arquivo de configura��o para permitir conex�o externa:</p>

<p class=TextoWeb style='line-height:115%'><span style='font-size:11.0pt;
line-height:115%;font-family:"Courier New"'>nano /etc/mosquitto/mosquitto.conf</span></p>

<p class=TextoWeb style='margin-left:72.0pt;text-indent:-18.0pt;line-height:
115%'><span style='font-size:10.0pt;line-height:115%;font-family:"Courier New"'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>Adicione
a linha:</p>

<p class=TextoWeb style='line-height:115%'><span style='font-size:11.0pt;
line-height:115%;font-family:"Courier New"'>listener 1883 0.0.0.0</span></p>

<p class=TextoWeb style='line-height:115%'><span style='font-size:11.0pt;
line-height:115%;font-family:"Courier New"'>allow_anonymous true</span></p>

<p class=TextoWeb style='margin-left:36.0pt;text-indent:-18.0pt;line-height:
115%'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Reinicie o Mosquitto:</p>

<p class=TextoWeb style='line-height:115%'><span style='font-size:11.0pt;
line-height:115%;font-family:"Courier New"'>systemctl restart mosquitto</span></p>

<p class=TextoWeb style='line-height:115%'>&nbsp;</p>

<p class=Ttulo1ABNT><a name="_Toc193146486">11. Testando a Comunica��o</a></p>

<p class=TextoWeb align=left style='text-align:left;line-height:115%'>Para
garantir que tudo est� funcionando:</p>

<p class=TextoWeb align=left style='margin-left:36.0pt;text-align:left;
text-indent:-18.0pt;line-height:115%'><span style='font-size:10.0pt;line-height:
115%;font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>No SimulIDE, veja se o Arduino est� enviando dados na serial.</p>

<p class=TextoWeb align=left style='margin-left:36.0pt;text-align:left;
text-indent:-18.0pt;line-height:115%'><span style='font-size:10.0pt;line-height:
115%;font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>No NetCat, verifique se os dados est�o sendo redirecionados.</p>

<p class=TextoWeb align=left style='margin-left:36.0pt;text-align:left;
text-indent:-18.0pt;line-height:115%'><span style='font-size:10.0pt;line-height:
115%;font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>No Proxmox, use o Mosquitto para ver se os dados est�o chegando.</p>

<p class=TextoWeb align=left style='text-align:left;line-height:115%'>Se tudo
estiver correto, seu ambiente de simula��o estar� configurado com sucesso! <span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128640;</span></p>

<div class=TextoWeb align=left style='text-align:left;line-height:115%'>

<hr size=2 width="100%" align=left>

</div>

<p class=TextoWeb align=left style='text-align:left;line-height:115%'><b>&nbsp;</b></p>

<p class=Ttulo1ABNT><a name="_Toc193146487">12 Conclus�o</a></p>

<p class=TextoWeb align=left style='text-align:left'>&nbsp;</p>

<p class=TextoWeb align=left style='text-align:left;line-height:115%'>Com este
guia, voc� aprendeu a:</p>

<p class=TextoWeb align=left style='margin-left:36.0pt;text-align:left;
text-indent:-18.0pt;line-height:115%'><span style='font-size:10.0pt;line-height:
115%;font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Configurar o SimulIDE e um Arduino simulado.</p>

<p class=TextoWeb align=left style='margin-left:36.0pt;text-align:left;
text-indent:-18.0pt;line-height:115%'><span style='font-size:10.0pt;line-height:
115%;font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Criar portas seriais virtuais para comunica��o.</p>

<p class=TextoWeb align=left style='margin-left:36.0pt;text-align:left;
text-indent:-18.0pt;line-height:115%'><span style='font-size:10.0pt;line-height:
115%;font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Usar o script Python para encaminhar dados para o Proxmox.</p>

<p class=TextoWeb align=left style='margin-left:36.0pt;text-align:left;
text-indent:-18.0pt;line-height:115%'><span style='font-size:10.0pt;line-height:
115%;font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Rodar um servidor MQTT no Proxmox virtualizado no VirtualBox.</p>

<p class=TextoWeb align=left style='margin-left:36.0pt;text-align:left;
text-indent:-18.0pt;line-height:115%'><span style='font-size:10.0pt;line-height:
115%;font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Testar a comunica��o entre os dispositivos.</p>

<p class=TextoWeb align=left style='margin-left:36.0pt;text-align:left;
text-indent:-18.0pt;line-height:115%'><span style='font-size:10.0pt;line-height:
115%;font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Integrar um sensor <b>DHT22</b> ao Arduino simulado.</p>

<p class=TextoWeb align=left style='text-align:left;line-height:115%'>&nbsp;</p>

<p class=TextoWeb align=left style='text-align:left;line-height:115%'>Agora,
voc� pode expandir o projeto adicionando mais sensores ou integrando com
dashboards para visualizar os dados recebidos! </p>

<p class=TextoWeb align=left style='text-align:left;line-height:115%'>&nbsp;</p>

<div style='border:none;border-top:solid windowtext 1.0pt;padding:1.0pt 0cm 0cm 0cm'>

<p class=TextoWeb align=left style='text-align:left;line-height:115%;
border:none;padding:0cm'>&nbsp;</p>

</div>

</div>

</body>

</html>
